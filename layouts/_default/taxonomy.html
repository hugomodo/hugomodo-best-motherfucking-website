{{ define "main" }}
  <main id="hugoModule-main">
    <header id="hugoModule-mainHeader">
      {{ partial "shared/breadcrumb-nav.html" . }}
    </header>

    {{ $path :=  .Data.Term | printf "%s/%s/_index.html" .Data.Plural }}
    {{ $termpage := $.Site.GetPage $path }}

    {{ with $termpage }}
      {{ $.Scratch.Set "term" $termpage }}
    {{ else }}
      {{ $.Scratch.Set "term" . }}
    {{ end }}
    {{ $term := $.Scratch.Get "term" }}

    {{ with $term }}
      <article id="hugoModule-mainArticle">
        {{ partial "article/featured_image.html" . }}
        {{ partial "article/header.html" . }}
        {{/*
          NOTE: Replaced section nesting for article content with div nesting to improve
                semantics/accessibility. div has no semantic meaning, but provides us
                styling capabilities that may otherwise be absent.
                Do consider: Is it necessary? Is it useful?
        */}}
        <div id="hugoModule-mainArticleContent">
          {{ .Content }}
        </div>

        {{ range $.Paginator.Pages }}
          {{ partial "article/preview.html" . }}
        {{ end }}

        <footer id="hugoModule-mainArticleFooter">
          {{ partial "shared/pagination.html" . }}
        </footer>
      </article>
    {{ end }}
  </main>
{{ end }}
